(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d369a0a"],{"0bb4":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-form",{on:{submit:t.onSubmit}},[n("van-field",{attrs:{name:"username",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"},{validator:t.nameVal,message:"请输入4-16位字母开头用户名"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"},{validator:t.passwordVal,message:"请输入最少6位，包括至少1个大写字母，1个小写字母，1个数字，1个特殊字符"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("van-field",{attrs:{name:"email",label:"邮箱",placeholder:"邮箱",rules:[{required:!0,message:"请填写邮箱地址"},{validator:t.mailVal,message:"请输入正确邮箱"}]},scopedSlots:t._u([{key:"button",fn:function(){return[n("van-button",{attrs:{disabled:t.disabled,"native-type":"button",type:"primary"},on:{click:t.handleToVerify}},[t._v(t._s(t.verifyInfo))])]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("van-field",{attrs:{"native-type":"submit",type:"digit",name:"verify",label:"验证码",rules:[{required:!0,message:"请填写验证码"}]},model:{value:t.verify,callback:function(e){t.verify=e},expression:"verify"}}),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("注册")])],1)],1),n("div",{staticClass:"login_link"},[n("router-link",{attrs:{to:"/mine/login"}},[t._v("立即登录")]),n("router-link",{attrs:{to:"/mine/findPassword"}},[t._v("找回密码")])],1)],1)},i=[],a=n("ade3"),s=(n("e17f"),n("2241")),l=(n("b0c0"),{name:"register",data:function(){return{username:"",password:"",email:"",verify:"",verifyInfo:"发送验证码",disabled:!1}},components:Object(a["a"])({},s["a"].Component.name,s["a"].Component),methods:{nameVal:function(t){return/^[a-zA-Z]\w{4,15}$/.test(t)},passwordVal:function(t){return/^\S*(?=\S{6,})(?=\S*\d)(?=\S*[A-Z])(?=\S*[a-z])(?=\S*[!@#$%^&*? ])\S*$/.test(t)},mailVal:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},handleToVerify:function(){var t=this;this.disabled||this.axios({url:"/api2/users/verify?email="+this.email}).then((function(e){var n=e.data.status,o=t;0===n?s["a"].alert({closeOnClickOverlay:!0,message:"验证码发送成功"}).then((function(){o.countDown()})):s["a"].alert({closeOnClickOverlay:!0,message:"验证码发送失败"})}))},onSubmit:function(t){var e=this;console.log("submit",t),this.axios({method:"post",url:"/api2/users/register",data:{username:this.username,password:this.password,email:this.email,verify:this.verify}}).then((function(t){var n=t.data.status,o=e;console.log(n),console.log(t),0===n?s["a"].alert({closeOnClickOverlay:!0,message:"注册成功"}).then((function(){o.$router.push("/mine/login")})):s["a"].alert({closeOnClickOverlay:!0,message:t.data.msg+",请重新注册"})}))},countDown:function(){var t=this;this.disabled=!0;var e=60,n=setInterval((function(){e--,t.verifyInfo="剩余"+e+"秒",0===e&&(t.disabled=!1,e=60,t.verifyInfo="发送验证码",clearInterval(n))}),1e3);console.log(n)}}}),r=l,c=(n("42db"),n("2877")),u=Object(c["a"])(r,o,i,!1,null,"4f85fe09",null);e["default"]=u.exports},1175:function(t,e,n){},2241:function(t,e,n){"use strict";var o,i=n("c31d"),a=n("2b0e"),s=n("2638"),l=n.n(s),r=n("d282"),c=n("ea8e"),u=n("b1d2"),d=n("6605"),f=n("b650"),h=n("9884"),m=Object(r["a"])("goods-action"),v=m[0],p=m[1],g=v({mixins:[Object(h["b"])("vanGoodsAction")],props:{safeAreaInsetBottom:{type:Boolean,default:!0}},render:function(){var t=arguments[0];return t("div",{class:p({unfit:!this.safeAreaInsetBottom})},[this.slots()])}}),b=n("48f4"),y=Object(r["a"])("goods-action-button"),C=y[0],w=y[1],B=C({mixins:[Object(h["a"])("vanGoodsAction")],props:Object(i["a"])({},b["c"],{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),computed:{isFirst:function(){var t=this.parent&&this.parent.children[this.index-1];return!t||t.$options.name!==this.$options.name},isLast:function(){var t=this.parent&&this.parent.children[this.index+1];return!t||t.$options.name!==this.$options.name}},methods:{onClick:function(t){this.$emit("click",t),Object(b["b"])(this.$router,this)}},render:function(){var t=arguments[0];return t(f["a"],{class:w([{first:this.isFirst,last:this.isLast},this.type]),attrs:{size:"large",type:this.type,icon:this.icon,color:this.color,loading:this.loading,disabled:this.disabled},on:{click:this.onClick}},[this.slots()||this.text])}}),O=Object(r["a"])("dialog"),k=O[0],x=O[1],S=O[2],$=k({mixins:[Object(d["a"])()],props:{title:String,theme:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,overlay:{type:Boolean,default:!0},allowHtml:{type:Boolean,default:!0},transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},closeOnPopstate:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,(function(n){!1!==n&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1}))):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")},genRoundButtons:function(){var t=this,e=this.$createElement;return e(g,{class:x("footer")},[this.showCancelButton&&e(B,{attrs:{size:"large",type:"warning",text:this.cancelButtonText||S("cancel"),color:this.cancelButtonColor,loading:this.loading.cancel},class:x("cancel"),on:{click:function(){t.handleAction("cancel")}}}),this.showConfirmButton&&e(B,{attrs:{size:"large",type:"danger",text:this.confirmButtonText||S("confirm"),color:this.confirmButtonColor,loading:this.loading.confirm},class:x("confirm"),on:{click:function(){t.handleAction("confirm")}}})])},genButtons:function(){var t,e=this,n=this.$createElement,o=this.showCancelButton&&this.showConfirmButton;return n("div",{class:[u["d"],x("footer")]},[this.showCancelButton&&n(f["a"],{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||S("cancel")},class:x("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){e.handleAction("cancel")}}}),this.showConfirmButton&&n(f["a"],{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||S("confirm")},class:[x("confirm"),(t={},t[u["b"]]=o,t)],style:{color:this.confirmButtonColor},on:{click:function(){e.handleAction("confirm")}}})])},genContent:function(t,e){var n=this.$createElement;if(e)return n("div",{class:x("content")},[e]);var o=this.message,i=this.messageAlign;if(o){var a,s,r={class:x("message",(a={"has-title":t},a[i]=i,a)),domProps:(s={},s[this.allowHtml?"innerHTML":"textContent"]=o,s)};return n("div",{class:x("content",{isolated:!t})},[n("div",l()([{},r]))])}}},render:function(){var t=arguments[0];if(this.shouldRender){var e=this.message,n=this.slots(),o=this.slots("title")||this.title,i=o&&t("div",{class:x("header",{isolated:!e&&!n})},[o]);return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||e},class:[x([this.theme]),this.className],style:{width:Object(c["a"])(this.width)}},[i,this.genContent(o,n),"round-button"===this.theme?this.genRoundButtons():this.genButtons()])])}}}),j=n("a142");function A(t){return document.body.contains(t)}function T(){o&&o.$destroy(),o=new(a["default"].extend($))({el:document.createElement("div"),propsData:{lazyRender:!1}}),o.$on("input",(function(t){o.value=t}))}function z(t){return j["g"]?Promise.resolve():new Promise((function(e,n){o&&A(o.$el)||T(),Object(i["a"])(o,z.currentOptions,t,{resolve:e,reject:n})}))}z.defaultOptions={value:!0,title:"",width:"",theme:null,message:"",overlay:!0,className:"",allowHtml:!0,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,callback:function(t){o["confirm"===t?"resolve":"reject"](t)}},z.alert=z,z.confirm=function(t){return z(Object(i["a"])({showCancelButton:!0},t))},z.close=function(){o&&(o.value=!1)},z.setDefaultOptions=function(t){Object(i["a"])(z.currentOptions,t)},z.resetDefaultOptions=function(){z.currentOptions=Object(i["a"])({},z.defaultOptions)},z.resetDefaultOptions(),z.install=function(){a["default"].use($)},z.Component=$,a["default"].prototype.$dialog=z;e["a"]=z},"2fcb":function(t,e,n){},"42db":function(t,e,n){"use strict";n("8aac")},"4cf9":function(t,e,n){},"8aac":function(t,e,n){},ade3:function(t,e,n){"use strict";function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return o}))},e17f:function(t,e,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75"),n("e3b3"),n("bc1b"),n("1175"),n("4cf9"),n("2fcb")}}]);
//# sourceMappingURL=chunk-8d369a0a.030f8f53.js.map