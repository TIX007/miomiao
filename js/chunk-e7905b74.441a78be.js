(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7905b74"],{"0b42":function(t,n,i){var e=i("e8b5"),c=i("68ee"),r=i("861d"),o=i("b622"),a=o("species");t.exports=function(t){var n;return e(t)&&(n=t.constructor,c(n)&&(n===Array||e(n.prototype))?n=void 0:r(n)&&(n=n[a],null===n&&(n=void 0))),void 0===n?Array:n}},1137:function(t,n,i){"use strict";i("fac5")},"1dde":function(t,n,i){var e=i("d039"),c=i("b622"),r=i("2d00"),o=c("species");t.exports=function(t){return r>=51||!e((function(){var n=[],i=n.constructor={};return i[o]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},2532:function(t,n,i){"use strict";var e=i("23e7"),c=i("5a34"),r=i("1d80"),o=i("577e"),a=i("ab13");e({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~o(r(this)).indexOf(o(c(t)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,n,i){var e=i("861d"),c=i("c6b6"),r=i("b622"),o=r("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==c(t))}},"4de4":function(t,n,i){"use strict";var e=i("23e7"),c=i("b727").filter,r=i("1dde"),o=r("filter");e({target:"Array",proto:!0,forced:!o},{filter:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,n,i){var e=i("44e7");t.exports=function(t){if(e(t))throw TypeError("The method doesn't accept regular expressions");return t}},"65f0":function(t,n,i){var e=i("0b42");t.exports=function(t,n){return new(e(t))(0===n?0:n)}},6938:function(t,n,i){},"78a5":function(t,n,i){"use strict";i.r(n);var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"box"},[i("van-sticky",[i("div",{staticClass:"navbar"},[i("van-icon",{staticClass:"navcross",attrs:{name:"cross"},on:{click:t.closeCity}}),i("span",{staticClass:"nav-title"},[t._v("当前城市-"+t._s(t.$store.state.cityName))])],1),i("van-search",{attrs:{"show-action":"",placeholder:"输入城市名或拼音"},on:{search:t.onSearch,input:t.onInput},scopedSlots:t._u([{key:"action",fn:function(){return[i("div",{on:{click:t.onCancel}},[t._v("取消")])]},proxy:!0}]),model:{value:t.iptVal,callback:function(n){t.iptVal=n},expression:"iptVal"}})],1),1==t.blockShow?i("CityList",{attrs:{cityList:t.cityList}}):2==t.blockShow?i("SearchList",{attrs:{searchlist:t.searchlist}}):t._e(),3==t.blockShow?i("div",{staticClass:"nolist"},[i("p",[t._v("没有找到匹配的城市")])]):t._e()],1)},c=[],r=(i("4de4"),i("caad"),i("2532"),i("b0c0"),i("bc3a")),o=i.n(r),a=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"box"},[i("van-index-bar",{attrs:{"highlight-color":"#000",sticky:!1,"index-list":t.computedCityList},on:{select:t.handleSelect}},t._l(t.cityList,(function(n){return i("div",{key:n.type},[i("van-index-anchor",{attrs:{index:n.type}}),t._l(n.list,(function(n,e){return i("van-cell",{key:e,attrs:{title:n.name},on:{click:function(i){return t.cityClick(n.name,n.cityId)}}})}))],2)})),0)],1)},s=[],u=(i("d81d"),{name:"CityList",props:["cityList"],computed:{computedCityList:function(){return this.cityList.map((function(t){return t.type}))}},methods:{handleSelect:function(t){console.log(this)},cityClick:function(t,n){this.$store.commit("city/changeCityName",t),this.$store.commit("city/changeCityId",n),this.$router.back(),console.log(this.$store),console.log(t)}}}),l=u,f=i("2877"),d=Object(f["a"])(l,a,s,!1,null,"0c142bdf",null),h=d.exports,p=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("van-list",{attrs:{finished:!0,"finished-text":"没有更多了"}},t._l(t.searchlist,(function(n){return i("van-cell",{key:n.cityId,attrs:{title:n.name},on:{click:function(i){return t.cityClick(n.name,n.cityId)}}})})),1)],1)},y=[],v={name:"SearchList",props:["searchlist"],methods:{cityClick:function(t,n){this.$store.commit("city/changeCityName",t),this.$store.commit("city/changeCityId",n),this.$router.back()}}},m=v,b=Object(f["a"])(m,p,y,!1,null,null,null),k=b.exports,C={name:"City",data:function(){return{iptVal:"",blockShow:1,cityList:[],originalcity:[],arr:[]}},components:{CityList:h,SearchList:k},computed:{searchlist:function(){var t=this,n=this.originalcity.filter((function(n){return n.name.includes(t.iptVal)||n.pinyin.includes(t.iptVal)}));return this.arr=n,0==n.length?(this.blockShow=3,[]):n}},methods:{onCancel:function(){this.blockShow=1},handleCityData:function(t){for(var n=[],i=[],e=65;e<91;e++)n.push(String.fromCharCode(e));return n.forEach((function(n){var e=t.filter((function(t){return t.pinyin.substring(0,1).toUpperCase()===n}));e.length>0&&i.push({type:n,list:e})})),i},onInput:function(){this.blockShow=2},onSearch:function(){0==this.arr.length&&(this.blockShow=3)},closeCity:function(){this.$router.back()}},mounted:function(){var t=this;o()({url:"https://m.maizuo.com/gateway?k=5144120",headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"16348321693295459686744065"}',"X-Host":"mall.film-ticket.city.list"}}).then((function(n){t.cityList=t.handleCityData(n.data.data.cities),t.originalcity=n.data.data.cities}))}},g=C,x=(i("1137"),i("cc2b"),Object(f["a"])(g,e,c,!1,null,"3ed11fd7",null));n["default"]=x.exports},ab13:function(t,n,i){var e=i("b622"),c=e("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(i){try{return n[c]=!1,"/./"[t](n)}catch(e){}}return!1}},b727:function(t,n,i){var e=i("0366"),c=i("44ad"),r=i("7b0b"),o=i("07fa"),a=i("65f0"),s=[].push,u=function(t){var n=1==t,i=2==t,u=3==t,l=4==t,f=6==t,d=7==t,h=5==t||f;return function(p,y,v,m){for(var b,k,C=r(p),g=c(C),x=e(y,v,3),w=o(g),S=0,_=m||a,L=n?_(p,w):i||d?_(p,0):void 0;w>S;S++)if((h||S in g)&&(b=g[S],k=x(b,S,C),t))if(n)L[S]=k;else if(k)switch(t){case 3:return!0;case 5:return b;case 6:return S;case 2:s.call(L,b)}else switch(t){case 4:return!1;case 7:s.call(L,b)}return f?-1:u||l?l:L}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},caad:function(t,n,i){"use strict";var e=i("23e7"),c=i("4d64").includes,r=i("44d2");e({target:"Array",proto:!0},{includes:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},cc2b:function(t,n,i){"use strict";i("6938")},d81d:function(t,n,i){"use strict";var e=i("23e7"),c=i("b727").map,r=i("1dde"),o=r("map");e({target:"Array",proto:!0,forced:!o},{map:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,n,i){var e=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==e(t)}},fac5:function(t,n,i){}}]);
//# sourceMappingURL=chunk-e7905b74.441a78be.js.map